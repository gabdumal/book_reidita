---
title: Componentes
author: Gabriel Malosto
---

import { Aside } from "@astrojs/starlight/components";
import Figure from "/src/components/Figure.astro";

import styledApp from "/src/assets/content/docs/course/components/styled_app.png";
import importedHeader from "/src/assets/content/docs/course/components/imported_header.png";
import styledHeader from "/src/assets/content/docs/course/components/styled_header.png";
import resources from "/src/assets/content/docs/course/components/resources.png";

**Componentes** no React sÃ£o blocos de construÃ§Ã£o reutilizÃ¡veis para interfaces de usuÃ¡rio. Eles permitem dividir a UI em partes independentes e reutilizÃ¡veis, e pensar em cada parte isoladamente.

Escrevemos seu cÃ³digo na linguagem de marcaÃ§Ã£o **JSX** (JavaScript XML), que Ã© uma extensÃ£o de sintaxe do JavaScript. JSX permite escrever HTML dentro do JavaScript e Ã© transformado em chamadas de funÃ§Ã£o regulares do JavaScript.

VocÃª pode ter percebido que o arquivo `App.tsx` que criamos anteriormente Ã© um componente!

```tsx
/* App.tsx */

export default function App() {
  return (
    <article>
      <p>
        Vamos construir um jogo de clicker simples para entendermos os conceitos
        bÃ¡sicos de React.
      </p>
    </article>
  );
}
```

Sua estrutura Ã© a de uma funÃ§Ã£o do JavaScript.
O que ela retorna Ã© um trecho de cÃ³digo HTML, que Ã© renderizado na tela.
Por baixo dos panos, o React chamarÃ¡ essa funÃ§Ã£o quando necessÃ¡rio.

## Estilizando componentes

Para estilizar componentes, podemos usar CSS normalmente.
Eu recomendo utilizar um padrÃ£o de estilizaÃ§Ã£o chamado **CSS Modules**.
Ele permite que vocÃª escreva CSS localmente para cada componente, evitando conflitos de estilos.

Para utilizar CSS Modules, basta criar um arquivo CSS com o mesmo nome do seu componente e adicionar o sufixo `.module.css`.
Por exemplo, para o componente `App.tsx`, crie um arquivo `App.module.css`.

```css
/* App.module.css */

.container {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding: 1rem 2rem;
  gap: 2rem;
}
```

O CSS Ã© convertido em um objeto JavaScript, onde cada classe Ã© uma propriedade desse objeto.
Para utilizar essas classes no seu componente, importe o arquivo CSS no topo do arquivo `App.tsx`, dando o nome `styles` para o objeto de estilos.

```tsx
/* App.tsx */

import styles from "./App.module.css";
```

EntÃ£o, adicione o atributo `className` ao elemento [`<article>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/article).
Passe para ele a classe `styles.container`.

```tsx
/* App.tsx */

<article className={styles.container}>
```

O cÃ³digo completo do componente `App.tsx` ficarÃ¡ assim:

```tsx
/* App.tsx */

import styles from "./App.module.css";

export default function App() {
  return (
    <article className={styles.container}>
      <p>
        Vamos construir um jogo de clicker simples para entendermos os conceitos
        bÃ¡sicos de React.
      </p>
    </article>
  );
}
```

<Figure
  caption={`Componente "App" estilizado com CSS Modules.`}
  images={[
    {
      src: styledApp,
      alt: `PÃ¡gina inicial do projeto, mostrando um parÃ¡grafo de introduÃ§Ã£o. O estilo descrito estÃ¡ aplicado aos elementos HTML.`,
    },
  ]}
/>

## Organizando os componentes

Como dissemos anteriormente, o arquivo `App.tsx` Ã© um componente.
Seu estilo Ã© definido no arquivo `App.module.css`.
Pensando nisso, concluÃ­mos que cada componente serÃ¡ composto por um arquivo `.tsx` e opcionalmente um arquivo `.module.css`.
Conforme nosso projeto cresce, teremos dificuldade em organizar todos esses arquivos.

Por isso, eu gosto de criar uma pasta para cada componente, guardando nela os arquivos de estrutura e de estilo.
EntÃ£o, todas essas pastas ficam dentro de uma pasta `src/components`.

Para aderir a esse padrÃ£o, vamos fazer o seguinte:

1. Crie uma pasta `src/components`.
2. Dentro dela, crie uma pasta `App`.
3. Mova o arquivo `App.tsx` para a pasta `src/components/App`.
4. Mova o arquivo `App.module.css` para a pasta `src/components/App`.
5. Edite o conteÃºdo do arquivo `main.tsx` para corrigir a importaÃ§Ã£o do componente `App`.

```tsx
/* main.tsx */

import { StrictMode } from "react";
import { createRoot } from "react-dom/client";
import "./index.css";
import App from "./components/App/App.tsx";

createRoot(document.getElementById("root")!).render(
  <StrictMode>
    <App />
  </StrictMode>,
);
```

Este arquivo `main.tsx` Ã© o ponto de entrada da nossa aplicaÃ§Ã£o.
Ã‰ nele que importamos o CSS global.
Eu prefiro nÃ£o mexer muito aqui, e manter minha organizaÃ§Ã£o a partir do componente `App`.

A estrutura de pastas e arquivos ficarÃ¡ assim:

```
src/
â”œâ”€â”€ components/
â”‚   â””â”€â”€ App/
â”‚       â”œâ”€â”€ App.module.css
â”‚       â””â”€â”€ App.tsx
â”œâ”€â”€ index.css
â”œâ”€â”€ main.tsx
â””â”€â”€ vite-env.d.ts
```

## TÃ­tulo do jogo

Nosso jogo precisa de um tÃ­tulo, e devemos exibir esse tÃ­tulo em destaque para o jogador.
Podemos fazer isso ao criar um cabeÃ§alho para a pÃ¡gina!
Por ser um bloco semanticamente diferente do conteÃºdo principal, Ã© uma boa prÃ¡tica criar um componente para ele tambÃ©m.

1. Dentro da pasta `src/components`, crie uma pasta `Header`.
2. Dentro dela, crie um arquivo `Header.tsx`.
3. Crie um arquivo `Header.module.css` para estilizar o componente.

A estrutura de pastas e arquivos ficarÃ¡ assim:

```
src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ App/
â”‚   â”‚   â”œâ”€â”€ App.module.css
â”‚   â”‚   â””â”€â”€ App.tsx
â”‚   â””â”€â”€ Header/
â”‚       â”œâ”€â”€ Header.module.css
â”‚       â””â”€â”€ Header.tsx
â”œâ”€â”€ index.css
â”œâ”€â”€ main.tsx
â””â”€â”€ vite-env.d.ts
```

### Estrutura

O componente `Header` deve ser um cabeÃ§alho que exibe o tÃ­tulo do jogo.
Utilizaremos os elementos padrÃ£o de cabeÃ§alho e de tÃ­tulo do HTML para isso.

<Aside type="note">
  Todo componente no React Ã© uma **funÃ§Ã£o** que recebe **atributos** como
  parÃ¢metros e retorna um trecho de cÃ³digo em **HTML**.
</Aside>

ComeÃ§amos escrevendo a definiÃ§Ã£o da funÃ§Ã£o `Header`.
TambÃ©m especificamos que esse componente poderÃ¡ ser usado por outros arquivos, exportando-o.
Para isso, usamos a palavra-chave `export`.
Por sua vez, a palavra-chave `default` indica que esse componente Ã© o principal do arquivo `Header.tsx` &mdash; nesse caso, Ã© o Ãºnico.

```tsx
/* Header.tsx */

export default function Header() {}
```

Agora, vamos escrever o retorno da funÃ§Ã£o.
Todo componente no React deve retornar um &mdash; e apenas um &mdash; elemento HTML.
Neste caso, retornaremos um elemento de cabeÃ§alho definido pela tag [`<header>`](https://developer.mozilla.org/pt-BR/docs/Web/HTML/Element/header).

```tsx
/* Header.tsx */

export default function Header() {
  return <header></header>;
}
```

Este Ã© um elemento semÃ¢ntico do HTML5, que representa um cabeÃ§alho de uma seÃ§Ã£o ou de todo o documento.
NÃ£o o confunda com o nome do nosso componente personalizado, `Header`.

<Aside type="caution">
  Perceba que letras maiÃºsculas e minÃºsculas fazem diferenÃ§a no JSX. Sempre
  mantenha o padrÃ£o no nome das pastas, dos arquivos, e das definiÃ§Ãµes internas
  num arquivo.
</Aside>

Por fim, criaremos um elemento de tÃ­tulo de nÃ­vel 1, representado pela tag `<h1>`.
Esse elemento Ã© o mais importante de todos os tÃ­tulos de uma pÃ¡gina, e Ã© frequentemente usado para o tÃ­tulo principal.

```tsx
/* Header.tsx */

export default function Header() {
  return (
    <header>
      <h1>Idle Clicker</h1>
    </header>
  );
}
```

<Aside type="caution">
  Quando o elemento retornado pela funÃ§Ã£o de um componente tem mais de uma
  linha, Ã© necessÃ¡rio envolvÃª-lo em parÃªnteses. Se vocÃª estiver usando um
  formatador como o [**Prettier**](https://prettier.io/), ele o farÃ¡
  automaticamente.
</Aside>

NÃ³s criamos o componente, mas nada mudou na pÃ¡gina ainda.
Isto Ã© porque precisamos encaixar o componente `Header` em algum lugar da hierarquia de componentes da aplicaÃ§Ã£o.

Lembre-se: o arquivo main Ã© o ponto de entrada. Ele Ã© o responsÃ¡vel por renderizar o componente principal da aplicaÃ§Ã£o, que Ã© o `App`.
Portanto, para colocar o `Header` na pÃ¡gina, devemos adicionÃ¡-lo dentro do cÃ³digo retornado pelo componente `App`.
FaÃ§amos isso em duas partes:

1. Importe o componente `Header` no arquivo `App.tsx`.

```tsx
/* App.tsx */

import Header from "../Header/Header";
```

2. Adicione o componente `Header` dentro do elemento `<article>` retornado pelo componente `App`.

```tsx
/* App.tsx */

import Header from "../Header/Header";
import styles from "./App.module.css";

export default function App() {
  return (
    <article className={styles.container}>
      <Header />
      <p>
        Vamos construir um jogo de clicker simples para entendermos os conceitos
        bÃ¡sicos de React.
      </p>
    </article>
  );
}
```

<Figure
  caption={`Componente "Header" importado e renderizado no componente "App".`}
  images={[
    {
      src: importedHeader,
      alt: `PÃ¡gina do projeto, mostrando um cabeÃ§alho com o tÃ­tulo "Idle Clicker", e abaixo um parÃ¡grafo de introduÃ§Ã£o.`,
    },
  ]}
/>

### EstilizaÃ§Ã£o

Similarmente a como fizemos com o componente `App`, vamos estilizar o componente `Header` utilizando CSS Modules.
Eu quero que o tÃ­tulo do jogo seja exibido em maior destaque, entÃ£o vamos criar uma classe CSS para isso.

1. Abra o arquivo `Header.module.css` e adicione as seguintes regras de estilo:

```css
/* Header.module.css */

.header {
  &:global {
    animation: background-color-transform 30s cubic-bezier(0.4, 0, 0.6, 1)
      infinite;
  }
}

.title {
  margin: 0;
  padding-inline: 2rem;
  color: white;
  font-size: 2rem;
  font-weight: 900;
  text-align: center;
}
```

2. Importe o arquivo CSS no topo do arquivo `Header.tsx`.

```tsx
/* Header.tsx */

import styles from "./Header.module.css";
```

3. Adicione a classe `styles.header` ao elemento `<header>` e a classe `styles.title` ao elemento `<h1>`.

```tsx
/* Header.tsx */

return (
  <header className={styles.header}>
    <h1 className={styles.title}>Idle Clicker</h1>
  </header>
);
```

Este serÃ¡ o resultado final do componente `Header` na pÃ¡gina.

<Figure
  caption={`Componente "Header" estilizado com CSS Modules.`}
  images={[
    {
      src: styledHeader,
      alt: `PÃ¡gina do projeto, mostrando um cabeÃ§alho com o tÃ­tulo "Idle Clicker" em destaque com texto branco e fundo vermelho coral. Abaixo hÃ¡ um parÃ¡grafo de introduÃ§Ã£o.`,
    },
  ]}
/>

## Obtendo recursos

Uma caracterÃ­stica chave de jogos _Idle Clicker_ Ã© o estoque de pontos acumulados.
No nosso jogo, teremos mais de um recurso, entÃ£o precisamos de um componente que represente cada um deles.

### Grupo

Podemos imaginar que esses recursos serÃ£o agrupados de alguma forma.
Felizmente, hÃ¡ um elemento padrÃ£o do HTML perfeito para essa funÃ§Ã£o.
Ã‰ o elemento [`<section>`](https://developer.mozilla.org/pt-BR/docs/Web/HTML/Element/section), que representa uma seÃ§Ã£o genÃ©rica de uma pÃ¡gina.
Assim como no caso do cabeÃ§alho, faz sentido criar um componente personalizado para esse agrupamento.

1. Dentro da pasta `src/components`, crie uma pasta `ResourcesContainer`.
2. Dentro dela, crie um arquivo `ResourcesContainer.tsx`.
3. Preencha-o com a estrutura bÃ¡sica do componente:

```tsx
/* ResourcesContainer.tsx */

import styles from "./ResourcesContainer.module.css";

export default function ResourcesContainer() {
  return <section className={styles.container}>Recursos</section>;
}
```

4. Crie um arquivo `ResourcesContainer.module.css` para estilizar o componente.
5. Adicione a ele as seguintes regras de estilo:

```css
/* ResourcesContainer.module.css */

.container {
  display: flex;
  max-width: 100%;
  overflow-x: scroll;
  padding-inline: 1rem;
  padding-block: 0.5rem;
  scrollbar-width: none;
  -ms-overflow-style: none;
}

.container::-webkit-scrollbar {
  display: none;
}

.group {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 3rem;
}
```

5. Abra o arquivo `App.tsx` e remova o elemento `<p>`.
6. Importe o componente `ResourcesContainer` no arquivo `App.tsx`, e o adicione logo abaixo do componente `Header`.

```tsx
/* App.tsx */

import Header from "../Header/Header";
import ResourcesContainer from "../ResourcesContainer/ResourcesContainer";
import styles from "./App.module.css";

export default function App() {
  return (
    <article className={styles.container}>
      <Header />
      <ResourcesContainer />
    </article>
  );
}
```

A estrutura de pastas e arquivos ficarÃ¡ assim:

```
src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ App/
â”‚   â”‚   â”œâ”€â”€ App.module.css
â”‚   â”‚   â””â”€â”€ App.tsx
â”‚   â”œâ”€â”€ Header/
â”‚   â”‚   â”œâ”€â”€ Header.module.css
â”‚   â”‚   â””â”€â”€ Header.tsx
â”‚   â””â”€â”€ ResourcesContainer/
â”‚       â”œâ”€â”€ ResourcesContainer.module.css
â”‚       â””â”€â”€ ResourcesContainer.tsx
â”œâ”€â”€ index.css
â”œâ”€â”€ main.tsx
â””â”€â”€ vite-env.d.ts
```

### Exibidor

Depois de criar o elemento que agrupa os recursos, podemos de fato criar o exibidor da quantidade de cada um.
Para isso, criaremos outro componente, chamado `ResourceDisplay`.

1. Dentro da pasta `src/components`, crie uma pasta `ResourceDisplay`.
2. Dentro dela, crie um arquivo `ResourceDisplay.tsx` e o preencha com o seguinte cÃ³digo:

```tsx
/* ResourceDisplay.tsx */

import styles from "./ResourceDisplay.module.css";

export default function ResourceDisplay() {
  return (
    <div className={styles.box}>
      <h1 className={styles.name}>Madeira</h1>
      <span className={styles.icon}>ðŸŒ³</span>
      <p className={styles.amount}>0</p>
    </div>
  );
}
```

3. Crie um arquivo `ResourceDisplay.module.css` para estilizar o componente e adicione a ele as seguintes regras de estilo:

```css
/* ResourceDisplay.module.css */

.box {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  gap: 0.25rem;
  min-height: 8.5rem;
  min-width: 8.5rem;
  border-radius: 0.75rem;
  background-color: white;
  &:global {
    animation: box-shadow-color-transform 30s cubic-bezier(0.4, 0, 0.6, 1)
      infinite;
  }
}

.name {
  margin: 0;
  font-weight: 900;
  font-size: 1.25rem;
}

.icon {
  font-size: 3rem;
}

.amount {
  margin: 0;
  font-weight: 900;
}
```

4. Abra o arquivo `ResourcesContainer.tsx` e remova o texto "Recursos".
5. Crie um elemento [`<div>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/div) com a classe `styles.group` e adicione o componente `ResourceDisplay` dentro dele.

```tsx
/* ResourcesContainer.tsx */

import ResourceDisplay from "../ResourceDisplay/ResourceDisplay";
import styles from "./ResourcesContainer.module.css";

export default function ResourcesContainer() {
  return (
    <section className={styles.container}>
      <div className={styles.group}>
        <ResourceDisplay />
      </div>
    </section>
  );
}
```

A estrutura de pastas e arquivos ficarÃ¡ assim:

```
src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ App/
â”‚   â”‚   â”œâ”€â”€ App.module.css
â”‚   â”‚   â””â”€â”€ App.tsx
â”‚   â”œâ”€â”€ Header/
â”‚   â”‚   â”œâ”€â”€ Header.module.css
â”‚   â”‚   â””â”€â”€ Header.tsx
â”‚   â”œâ”€â”€ ResourceDisplay/
â”‚   â”‚   â”œâ”€â”€ ResourceDisplay.module.css
â”‚   â”‚   â””â”€â”€ ResourceDisplay.tsx
â”‚   â””â”€â”€ ResourcesContainer/
â”‚       â”œâ”€â”€ ResourcesContainer.module.css
â”‚       â””â”€â”€ ResourcesContainer.tsx
â”œâ”€â”€ index.css
â”œâ”€â”€ main.tsx
â””â”€â”€ vite-env.d.ts
```

O resultado final serÃ¡ uma caixa com o emoji de uma Ã¡rvore em que o jogador pode clicar.

<Figure
  caption={`Componentes "ResourcesContainer" e "ResourceDisplay" estilizados.`}
  images={[
    {
      src: resources,
      alt: `PÃ¡gina do projeto, mostrando uma caixa com o Ã­cone de uma Ã¡rvore e o texto "Madeira" acima. Abaixo, um nÃºmero zero indica a quantidade de madeira.`,
    },
  ]}
/>
